apply plugin: 'kotlin'


sourceCompatibility = 1.7

compileKotlin.kotlinOptions.jvmTarget = "1.6"

compileTestKotlin.kotlinOptions.jvmTarget = "1.6"


dependencies {
    api "org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlinCoroutinesVersion"
    
    api "net.dankito.utils:java-utils:$javaUtilsVersion"


    testApi project(':TesseractCommon')

    testImplementation("org.junit.jupiter:junit-jupiter:$junit5Version")
    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine:$junit5Version")

    testApi "org.assertj:assertj-core:$assertJVersion"
    testApi "org.mockito:mockito-core:$mockitoVersion"

    testApi "ch.qos.logback:logback-classic:$logbackVersion"
}


/*      to share test classes and resources with other projects     */

configurations {
    tests {
        extendsFrom(testRuntimeClasspath)
    }
}

task testJar(type: Jar) {
    archiveClassifier = 'tests'
    from sourceSets.test.output
}

// add the jar generated by the testJar task to the testClasses dependency
artifacts {
    tests testJar
}


publishing.publications.mavenJava {
    artifactId = "text-extractor-common"
}