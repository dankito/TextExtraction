apply plugin: 'kotlin'


sourceCompatibility = 1.7

compileKotlin.kotlinOptions.jvmTarget = "1.6"

compileTestKotlin.kotlinOptions.jvmTarget = "1.6"


dependencies {
    api "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlinVersion"
    api "org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion"
    api "org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlinCoroutinesVersion"
    
    api "net.dankito.utils:java-utils:$javaUtilsVersion"

    api "org.slf4j:slf4j-api:$slf4jVersion"


    testApi project(':TesseractCommon')

    testApi "junit:junit:$junitVersion"
    testApi "org.assertj:assertj-core:$assertJVersion"

    testApi "org.mockito:mockito-core:$mockitoVersion"

    testApi "ch.qos.logback:logback-classic:$logbackVersion"
}


/*      to share test classes and resources with other projects     */

configurations {
    tests {
        extendsFrom(testRuntimeClasspath)
    }
}

task testJar(type: Jar) {
    archiveClassifier = 'tests'
    from sourceSets.test.output
}

// add the jar generated by the testJar task to the testClasses dependency
artifacts {
    tests testJar
}


publishing.publications.mavenJava {
    artifactId = "text-extractor-common"
}